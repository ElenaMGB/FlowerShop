# Flower Delivery Service
Django, aiogram, TG-bot

Простой веб-сайт для заказа доставки цветов с интеграцией Telegram бота для приема заказов.

О проекте
Проект предоставляет интерфейс для заказа цветов через веб-сайт и получения информации о заказах через мессенджер Telegram.
Система облегчает процесс заказа цветов и автоматизирует обработку заказов.

Функциональные возможности

Веб-сайт

    Регистрация и авторизация пользователей
    Каталог цветов и букетов с фотографиями и описаниями
    Корзина покупок и оформление заказа
    Личный кабинет с историей заказов
    Привязка аккаунта Telegram для получения уведомлений

Telegram бот

    Получение уведомлений о новых заказах
    Просмотр информации о своих заказах через команды бота
    Связь аккаунта на сайте с Telegram для получения уведомлений

Технологический стек

    Бэкенд: Python, Django
    Фронтенд: HTML, CSS, JavaScript
    База данных: SQLite (для разработки)
    Telegram API: aiogram для создания бота
    Тестирование: unittest

Требования

    Python 3.8+
    Django 4.0+
    aiogram 2.0+
    Доступ к Telegram API (токен бота)

Установка и запуск

    Клонируйте репозиторий:

git clone https://github.com/yourusername/flowerdelivery.git
cd flowerdelivery

Создайте и активируйте виртуальное окружение:

python -m venv venv
source venv/bin/activate  # На Windows: venv\Scripts\activate

Установите зависимости:

pip install -r requirements.txt

Настройте параметры в файле конфигурации:

    Создайте файл .env на основе .env.example
    Укажите TOKEN для Telegram бота и другие параметры

Примените миграции базы данных:

python manage.py migrate

Запустите веб-сервер:

python manage.py runserver

Запустите Telegram бота (в отдельном терминале):

    python bot.py

Структура проекта

FlowersDelivery/
├── apps/
│   ├── shop/                # Приложение магазина
│   │   ├── models.py        # Модели данных (товары, заказы)
│   │   ├── views.py         # Обработчики запросов
│   │   └── ...
│   ├── users/               # Приложение пользователей
│   │   ├── models.py        # Модели профилей пользователей
│   │   └── ...
├── FlowersDelivery/         # Настройки проекта
│   ├── settings.py          # Основные настройки
│   ├── urls.py              # Маршрутизация URL
│   └── ...
├── bot.py                   # Telegram бот
├── config.py                # Конфигурация (токены, ID)
├── manage.py                # Скрипт управления Django
├── tests/                   # Тесты
│   ├── bot_commands_test.py # Тесты команд бота
│   ├── model_mock_test.py   # Тесты моделей
│   └── run_tests.py         # Скрипт запуска тестов
└── README.md                # Документация проекта


Бот имеет полный функционал:

    Для клиентов:
        Регистрация и привязка аккаунта
        Просмотр своих заказов
        Получение уведомлений о статусе заказов

    Для администратора:
        Получение подробных уведомлений о новых заказах
        Просмотр фотографий товаров в заказах
        Уведомления работают как для клиентов с Telegram-аккаунтами, так и без них

Все асинхронные операции правильно обработаны через декораторы sync_to_async, добавлено логирование для отслеживания работы бота.


## Тестирование

Проект включает юнит-тесты для проверки основной функциональности Telegram-бота и моделей данных:

# Запуск всех тестов
python tests/run_tests.py

# Запуск отдельных тестов
python tests/bot_commands_test.py  # Тесты бота
python tests/model_mock_test.py    # Тесты моделей

Ограничения

    Заказы принимаются только в рабочее время
    Для получения уведомлений требуется аккаунт в Telegram
    Доставка осуществляется в пределах указанных зон

Дальнейшее возможное развитие

    Интеграция с платежными системами
    Расширенная система управления заказами для администраторов
    Мобильное приложение для клиентов
    Система отзывов и рейтингов букетов

Лицензия

    MIT License
